language: java

jdk:
   - oraclejdk8

env:
  - secure: PW2beKkKfM0MhO6LQjjYceihoN9t/4kzhxm68KiXY+sYJEjE+YRbRH5rHdKrC/KS4/NZAVRqGEJtaV7mi4fvasJMHURBnyuJ/dQC8YulbZBlLkJyuaQc4NiKJ/BKlF8HsIIzWWMG4F4He5SxuJ0rC82zUzThEgdm9VzyF/uHDepn8pK3/JUBNReWZrwTMqpXUEl17l+sDt/3g/L6+ujCGejRzZfySQ9vNYxK287CsZtY3X4pIb2NG0F+kRRZXZkd1YQLqe5YW/j+0pv/+/lUX3Hzf4Son6gBc+z5BagU1rE+GrM8Tk4FaO6eQD9Mp1ykfczUMNEBSh4aDML4pv5xQQ==

build:
  ci:
    - mkdir -p shippable/testresults
    - mkdir -p shippable/codecoverage
    - ./gradlew assemble --info
    - ./gradlew unitTest -PtestOutputDir=shippable/testresults -PcoverageOutputDir=shippable/codecoverage --info
    - ./gradlew systemTest -PtestOutputDir=shippable/testresults -x unitTest --info
    - ./gradlew uiTest -PtestOutputDir=shippable/testresults -x unitTest -x systemTest --info -PwithSauce=true -PSAUCE_LABS_USERNAME=$SAUCE_LABS_USERNAME -PSAUCE_LABS_KEY=$SAUCE_LABS_KEY
    - ./gradlew mobileUiTest -PtestOutputDir=shippable/testresults -x unitTest -x systemTest -x uiTest --info -PwithSauce=true -PSAUCE_LABS_USERNAME=$SAUCE_LABS_USERNAME -PSAUCE_LABS_KEY=$SAUCE_LABS_KEY
    
     
    